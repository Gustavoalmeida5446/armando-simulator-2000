<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Armando Simulator 2000</title>
</head>

<body>
    <textarea width="300px" height="300px"></textarea>
    </br>
    <button>Translate</button>
</body>

<script>
    const button = document.querySelector('button');

    function randomUpperCase(originalText) {
        const words = originalText.split(' ');
        const newText = words.map(word => Math.random() < 0.1 ? word.toUpperCase() : word).join(' ');
        return newText;
    }

    function randomDoubleSpace(originalText) {
        const words = originalText.split(' ');
        const newText = words.map(word => Math.random() < 0.05 ? word + " " : word).join(' ');
        return newText;
    }

    function substituteQuotes(originalText) {
        return originalText.replace(/"/g, '"""').replace(/(\w)"/g, '$1 "').replace(/"(\w)/g, '" $1');
    }

    function addRandomTitleCase(originalText) {
        const words = originalText.split(' ');
        const newText = words
            .map(word => Math.random() < 0.7 ? word.replace(/(\w)/, v => v.toUpperCase()) : word)
            .join(' ');
        return newText;
    }

    function addSpaceBetweenPonctuation(originalText) {
        return originalText.replace(/([.,\/#!$%\^&\*;:{}=\-_`~()]{1,3})/g, " $1 ");
    }

    function addRandomParagraph(originalText) {
        return originalText.split(" ")
            .map(word => Math.random() < 0.02 ? word + '\n\n' : word)
            .join(" ");
    }

    function addRandomParagraph(originalText) {
        return originalText.split(" ")
            .map(word => Math.random() < 0.02 ? word + '\n\n' : word)
            .join(" ");
    }

    function addRandomEmoticon(originalText) {
        return originalText.split(" ")
            .map(word => Math.random() < 0.01 ? word + ' 🤣🤣🤣🤣🤣 ' : word)
            .join(" ");
    }

    button.addEventListener('click', e => {
        e.preventDefault();
        e.stopPropagation();

        const originalText = document.querySelector('textarea').value;

        let finalText = randomUpperCase(originalText);
        finalText = randomDoubleSpace(finalText);
        finalText = substituteQuotes(finalText);
        finalText = addRandomTitleCase(finalText);
        finalText = addSpaceBetweenPonctuation(finalText);
        finalText = addRandomParagraph(finalText);
        finalText = addRandomEmoticon(finalText);

        console.log(finalText);

    });
</script>

</html>